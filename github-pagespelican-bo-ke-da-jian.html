<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Github pages+pelican 博客搭建</title>
  <meta name="author" content="SixerWang">



  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="/favicon.png" rel="icon">
  <link href="/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">
  <script src="/theme/js/modernizr-2.0.js"></script>
  <script src="/theme/js/ender.js"></script>
  <script src="/theme/js/octopress.js" type="text/javascript"></script>

  <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="/">Welcome to My World</a></h1>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
</ul>



<ul class="main-navigation">
    <li class="active">
    <a href="/category/ji-zhu.html">技术</a>
    </li>
    <li >
    <a href="/category/sheng-huo.html">生活</a>
    </li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">Github pages+pelican 博客搭建</h1>
      <p class="meta"><time datetime="2016-08-20T00:00:00" pubdate>六 20 八月 2016</time></p>
</header>

  <div class="entry-content"><hr />
<p><strong>大三保研结束就一直在写python，很感谢当年绿盟公司给我学习python的机会。自己现在对python稍微熟悉一些（其他的像java、c++都基本忘光了...好惨），所以就准备用python的框架。挑来挑去，pelican简单好上手，所以最终决定采用pelican作为生成博客的工具。<p>
暂时没有自己的服务器，所以只好将自己的博客挂载到github pages上，正好连域名的问题也给解决了。</strong><p></p>
<h3>总体的介绍</h3>
<p>我将这种模式下的博客推送分成三个部分：用markdown语法写文章，将md文件用pelican生成相应的网页文件，将这些网页文件推送到githubPages上展示出来。<p></p>
<ul>
<li>Markdown</li>
<li><a href="http://docs.getpelican.com/en/3.6.3/">Pelican</a></li>
<li><a href="https://pages.github.com/">Github Pages</a></li>
</ul>
<h3>从pelican开始</h3>
<h4>安装pelican和markdown</h4>
<p>我的电脑环境是Ubuntu 14.04 LTS,python 2.7.6。最简单的安装pelican的方式是用pip：<p></p>
<pre><code>pip install pelican</code></pre>

<p>再用pip的方式安装markdown：<p></p>
<pre><code>pip install pelican markdown</code></pre>

<h4>使用quickstart生成project</h4>
<p>新建一个文件夹，并进入该文件夹，在命令行输入pelican-quickstart:<p></p>
<pre><code>pelican-quickstart</code></pre>

<p>然后会出现一些问题，按照提示进行选择即可。随后，当前目录下会出现一些文件，content是存放自己写的blog的地方，output是存放pelican生成的网页文件的地方，pelicanconf.py和publishconf.py文件存放了pelican的一些设置。<p></p>
<h4>写文章</h4>
<p>进入content目录下，用markdown书写自己的第一篇博客。<p>
文章开头有一些pelican需要的参数，如title等等。<p>
<pre><code>
Title: My super title
Date: 2010-12-03 10:20
Modified: 2010-12-05 19:30
Category: Python
Tags: pelican, publishing
Slug: my-super-post
Authors: Alexis Metaireau, Conan Doyle
Summary: Short version for index and feeds</p>
<p>This is the content of my super blog post.</code></pre>
最后将文件保存成md的格式就可以了。<p></p>
<h4>生成网页文件并且在本地测试</h4>
<p>进入上一层文件夹，即你使用pelican-quickstart命令的路径，输入make html:<p></p>
<pre><code>make html</code></pre>

<p>进入output文件夹：<p></p>
<pre><code>cd output</code></pre>

<p>可以看到该文件夹中生成了很多新的文件。在当前路径下输入下列命令：<p></p>
<pre><code>python -m pelican.server</code></pre>

<p>即可在浏览器输入<a href="http://localhost:8000/">http://localhost:8000/</a>查看生成的网页。<p></p>
<h3>推送到Github Pages上</h3>
<p><a href="https://pages.github.com/">https://pages.github.com/</a>网站上有简单的介绍。</p>
<h4>生成github.io的repository</h4>
<p>第一步登陆自己的github的账号，生成一个新的repository，这个repository的命名必须是 username.github.io, username是你的github的用户名，比如我的就是sixerwang.github.io。</p>
<h4>第二步，将output的内容推送到username.github.io的仓库中</h4>
<p>进入output的path下，执行下面的操作即可：<p></p>
<pre><code>git init   #将output初始为一个仓库
git add .   #将当前的改变加入分支中
git commit -m 'add blog'   #添加改动的评论
git remote add origin https://github.com/username/username.github.io.git    #将本地的仓库和远程的仓库关联，需要输登陆github的用户名和密码
git push -u origin master   #将本地的改变推送到远程库中
</code></pre>

<p>Git这块的知识如果不熟可以参考<a href="http://www.liaoxuefeng.comwiki/0013739516305929606dd18361248578c67b8067c8c017b000">廖雪峰的Git教程</a>。第四个命令，可以使用https和ssh两种方式，ssh的方式需要在github上添加ssh的key，具体可以参考上面的Git教程。<p>
做完上面的操作以后，就可以去username.github.io上查看自己刚刚上传的博客了。<p></p>
<h3>写在后面</h3>
<p>上面只是将整个流程走了一遍，实际操作过程中肯定还有许多不一样的地方。下面主要写一下自己做了一些改变的地方。<p></p>
<h4>关于博客内容</h4>
<p>这里没有介绍具体的markdown语法，在具体写文章的时候，可以再参阅具体的markdown语法。其中自己遇到了一个问题，就是markdown语法中是不支持图片大小的调整的，所以我的做法是用html直接写插入图片的语句，html是和markdown的语法兼容的。<p></p>
<h4>关于主题</h4>
<p>在pelicanconf.py中可以修改生成网页的主题。首先，你可以去<a href="https://github.com/getpelican/pelican-themes">https://github.com/getpelican/pelican-themes</a>下载你喜欢的主题，然后在pelicanconf.py文件中修改THEME的参数即可。<p></p>
<pre><code>THEME = "pelican-octopress-theme"    #"pelican-octopress-theme"是我使用的主题名</code></pre>

<p>下载主题可以用git命令：<p></p>
<pre><code>git clone https://github.com/getpelican/pelican-themes.git</code></pre>

<h4>关于评论</h4>
<p>pelican支持第三方的评论系统disqus，可以去<a href="https://disqus.com/">https://disqus.com/</a>注册一个站点，然后可以在https://shortname.disqus.com/admin/settings/general/查看自己的相关信息，记住自己的shortname。在pelicanconf.py文件中添加“DISQUS_SITENAME = shortname”即可。<p>
在添加评论功能时自己遇到了挺多坑，第一个坑是在配置文件中加了相应的参数，但是最终的网页没有显示相应的评论部分。第二个坑是我用的模板的问题，生成的html文件缺少了‘<code>&lt;div id="disqus_thread"&gt;&lt;/div&gt;</code>’，导致disqus的js文件无法加载。大家可以查看output中生成的html文件，比如index.html,这是首页的网页，最后应该包括下面的code：<p>
<pre><code>
 <code>&lt;div id="disqus_thread"&gt;&lt;/div&gt;
    &lt;script type="text/javascript"&gt;
      var disqus_shortname = yourshortname;
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
       })();
    &lt;/script&gt;</code>
</code></pre>
如果没有包括的话就可能是模板的问题，大家可以去disqus admin中查看installation的universal code部分，介绍了自己的网页中应该包括那些代码。网址是https://your-shortname.disqus.com/admin/settings/universalcode/ <p>
注意，disqus在没有科学上网的情况下是不能加载出来的。<p></p>
<hr />
<p>第一次写技术博客，写的不好还请包容～有问题可以提，大家一起进步~</p></div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">SixerWang</span>
  </span>
<time datetime="2016-08-20T00:00:00" pubdate>六 20 八月 2016</time>  <span class="categories">
    <a class="category" href="/tag/ji-zhu.html">技术</a>
  </span>
</p><div class="sharing">
</div>    </footer>
  </article>

</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="/github-pagespelican-bo-ke-da-jian.html">Github pages+pelican 博客搭建</a>
      </li>
      <li class="post">
          <a href="/yun-nan-qi-ri-you-ji.html">云南七日游记</a>
      </li>
      <li class="post">
          <a href="/qing-hai-hu-si-ri-you-ji.html">青海湖四日游记</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="/category/ji-zhu.html">技术</a></li>
        <li><a href="/category/sheng-huo.html">生活</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="/tag/ji-zhu.html">技术</a>,    <a href="/tag/sheng-huo-lu-you.html">生活，旅游</a>  </section>


    <section>
        <h1>Social</h1>
        <ul>
            <li><a href="https://twitter.com/Sixer_Wang" target="_blank">Twitter</a></li>
            <li><a href="http://bbs.byr.cn" target="_blank">BYR</a></li>
        </ul>
    </section>
    <section>
        <h1>Blogroll</h1>
        <ul>
            <li><a href="http://getpelican.com/" target="_blank">Pelican</a></li>
            <li><a href="http://python.org/" target="_blank">Python.org</a></li>
            <li><a href="http://github.com/SixerWang" target="_blank">MyGithub</a></li>
        </ul>
    </section>

</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - SixerWang -
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
	<script type="text/javascript">
	  var disqus_shortname = 'sixerwang-github-io';
	  (function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	   })();
	</script>
</body>
</html>
